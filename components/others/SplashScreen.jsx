import { useAppContext } from "@/context/AppContext";
import { AnimatePresence, motion } from "framer-motion";
import React, { useEffect } from "react";
import HorizontalLoader from "../Tools/HorizontalLoader";

const SplashScreen = () => {
  const { initialLoading } = useAppContext();

  return (
    <AnimatePresence>
      {initialLoading && (
        <motion.div
          initial={{ opacity: 1, y: 0 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -150 }}
          transition={{
            opacity: { duration: 0.2 },
            y: { type: "spring", stiffness: 300, damping: 30 },
          }}
          style={{
            position: "fixed",
            pointerEvents: "none",
            top: "0",
            left: "0",
            width: "100%",
            zIndex: "1000000000000000000",
            backgroundColor: "var(--bg)",
            display: "flex",
            flexDirection: "column",
            gap: "0rem",
            justifyContent: "center",
            alignItems: "center",
            height: "100dvh",
            userSelect: "none",
          }}
          key="splash"
        >
          <div className="splash-wrapper shining-text">
            <svg
              width="290"
              height="80"
              viewBox="0 0 311 100"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 16.2165C0 7.26053 7.26025 0.000282288 16.2162 0.000282288L294.284 0C303.24 0 310.5 7.26025 310.5 16.2162V83.7838C310.5 92.7398 303.24 100 294.284 100L16.2162 100C7.26025 100 0 92.7401 0 83.7842V16.2165Z"
                fill="var(--text)"
              />
              <path
                d="M80.2912 28.3636V72H72.3224L53.3381 44.5355H53.0185V72H43.7926V28.3636H51.8892L70.7244 55.8068H71.108V28.3636H80.2912Z"
                fill="var(--bg)"
              />
              <path
                d="M102.53 72.6392C99.2205 72.6392 96.3583 71.9361 93.9435 70.5298C91.543 69.1094 89.6893 67.1349 88.3825 64.6065C87.0756 62.0639 86.4222 59.1165 86.4222 55.7642C86.4222 52.3835 87.0756 49.429 88.3825 46.9006C89.6893 44.358 91.543 42.3835 93.9435 40.9773C96.3583 39.5568 99.2205 38.8466 102.53 38.8466C105.84 38.8466 108.695 39.5568 111.096 40.9773C113.51 42.3835 115.371 44.358 116.678 46.9006C117.985 49.429 118.638 52.3835 118.638 55.7642C118.638 59.1165 117.985 62.0639 116.678 64.6065C115.371 67.1349 113.51 69.1094 111.096 70.5298C108.695 71.9361 105.84 72.6392 102.53 72.6392ZM102.573 65.608C104.078 65.608 105.336 65.1818 106.344 64.3295C107.353 63.4631 108.113 62.2841 108.624 60.7926C109.15 59.3011 109.412 57.6037 109.412 55.7003C109.412 53.7969 109.15 52.0994 108.624 50.608C108.113 49.1165 107.353 47.9375 106.344 47.071C105.336 46.2045 104.078 45.7713 102.573 45.7713C101.053 45.7713 99.7745 46.2045 98.7376 47.071C97.7148 47.9375 96.9407 49.1165 96.4151 50.608C95.9038 52.0994 95.6481 53.7969 95.6481 55.7003C95.6481 57.6037 95.9038 59.3011 96.4151 60.7926C96.9407 62.2841 97.7148 63.4631 98.7376 64.3295C99.7745 65.1818 101.053 65.608 102.573 65.608Z"
                fill="var(--bg)"
              />
              <path
                d="M141.948 39.2727V46.0909H122.239V39.2727H141.948ZM126.713 31.4318H135.79V61.9432C135.79 62.7812 135.918 63.4347 136.174 63.9034C136.429 64.358 136.784 64.6776 137.239 64.8622C137.708 65.0469 138.248 65.1392 138.858 65.1392C139.284 65.1392 139.711 65.1037 140.137 65.0327C140.563 64.9474 140.89 64.8835 141.117 64.8409L142.544 71.5952C142.09 71.7372 141.451 71.9006 140.627 72.0852C139.803 72.2841 138.801 72.4048 137.623 72.4474C135.435 72.5327 133.517 72.2415 131.87 71.5739C130.236 70.9062 128.965 69.8693 128.056 68.4631C127.147 67.0568 126.699 65.2813 126.713 63.1364V31.4318Z"
                fill="var(--bg)"
              />
              <path
                d="M162.296 72.6392C158.986 72.6392 156.124 71.9361 153.709 70.5298C151.309 69.1094 149.455 67.1349 148.148 64.6065C146.841 62.0639 146.188 59.1165 146.188 55.7642C146.188 52.3835 146.841 49.429 148.148 46.9006C149.455 44.358 151.309 42.3835 153.709 40.9773C156.124 39.5568 158.986 38.8466 162.296 38.8466C165.605 38.8466 168.461 39.5568 170.861 40.9773C173.276 42.3835 175.137 44.358 176.444 46.9006C177.75 49.429 178.404 52.3835 178.404 55.7642C178.404 59.1165 177.75 62.0639 176.444 64.6065C175.137 67.1349 173.276 69.1094 170.861 70.5298C168.461 71.9361 165.605 72.6392 162.296 72.6392ZM162.338 65.608C163.844 65.608 165.101 65.1818 166.11 64.3295C167.118 63.4631 167.878 62.2841 168.39 60.7926C168.915 59.3011 169.178 57.6037 169.178 55.7003C169.178 53.7969 168.915 52.0994 168.39 50.608C167.878 49.1165 167.118 47.9375 166.11 47.071C165.101 46.2045 163.844 45.7713 162.338 45.7713C160.819 45.7713 159.54 46.2045 158.503 47.071C157.48 47.9375 156.706 49.1165 156.181 50.608C155.669 52.0994 155.414 53.7969 155.414 55.7003C155.414 57.6037 155.669 59.3011 156.181 60.7926C156.706 62.2841 157.48 63.4631 158.503 64.3295C159.54 65.1818 160.819 65.608 162.338 65.608Z"
                fill="var(--bg)"
              />
              <path
                d="M184.306 84.2727V39.2727H193.255V44.7699H193.659C194.057 43.8892 194.632 42.9943 195.385 42.0852C196.152 41.1619 197.147 40.3949 198.368 39.7841C199.604 39.1591 201.138 38.8466 202.971 38.8466C205.357 38.8466 207.559 39.4716 209.576 40.7216C211.593 41.9574 213.205 43.8253 214.412 46.3253C215.62 48.8111 216.223 51.929 216.223 55.679C216.223 59.3295 215.634 62.4119 214.455 64.9261C213.29 67.4261 211.699 69.3224 209.682 70.6151C207.679 71.8935 205.435 72.5327 202.949 72.5327C201.188 72.5327 199.689 72.2415 198.453 71.6591C197.232 71.0767 196.23 70.3452 195.449 69.4645C194.668 68.5696 194.071 67.6676 193.659 66.7585H193.382V84.2727H184.306ZM193.191 55.6364C193.191 57.5824 193.461 59.2798 194 60.7287C194.54 62.1776 195.321 63.3068 196.344 64.1165C197.367 64.9119 198.61 65.3097 200.073 65.3097C201.55 65.3097 202.8 64.9048 203.823 64.0952C204.846 63.2713 205.62 62.1349 206.145 60.6861C206.685 59.223 206.955 57.5398 206.955 55.6364C206.955 53.7472 206.692 52.0852 206.167 50.6506C205.641 49.2159 204.867 48.0937 203.844 47.2841C202.821 46.4744 201.564 46.0696 200.073 46.0696C198.596 46.0696 197.346 46.4602 196.323 47.2415C195.314 48.0227 194.54 49.1307 194 50.5653C193.461 52 193.191 53.6903 193.191 55.6364Z"
                fill="var(--bg)"
              />
              <path
                d="M222.275 72V39.2727H231.351V72H222.275ZM226.834 35.054C225.485 35.054 224.327 34.6065 223.361 33.7116C222.409 32.8026 221.934 31.7159 221.934 30.4517C221.934 29.2017 222.409 28.1293 223.361 27.2344C224.327 26.3253 225.485 25.8707 226.834 25.8707C228.184 25.8707 229.334 26.3253 230.286 27.2344C231.252 28.1293 231.735 29.2017 231.735 30.4517C231.735 31.7159 231.252 32.8026 230.286 33.7116C229.334 34.6065 228.184 35.054 226.834 35.054Z"
                fill="var(--bg)"
              />
              <path
                d="M247.955 72.6179C245.866 72.6179 244.006 72.2557 242.372 71.5312C240.739 70.7926 239.446 69.706 238.494 68.2713C237.557 66.8224 237.088 65.0185 237.088 62.8594C237.088 61.0412 237.422 59.5142 238.089 58.2784C238.757 57.0426 239.666 56.0483 240.817 55.2955C241.967 54.5426 243.274 53.9744 244.737 53.5909C246.214 53.2074 247.763 52.9375 249.382 52.7812C251.286 52.5824 252.82 52.3977 253.984 52.2273C255.149 52.0426 255.994 51.7727 256.52 51.4176C257.045 51.0625 257.308 50.5369 257.308 49.8409V49.7131C257.308 48.3636 256.882 47.3196 256.03 46.581C255.192 45.8423 253.999 45.473 252.45 45.473C250.817 45.473 249.517 45.8352 248.551 46.5597C247.585 47.2699 246.946 48.1648 246.634 49.2443L238.239 48.5625C238.665 46.5739 239.503 44.8551 240.753 43.4062C242.003 41.9432 243.615 40.821 245.589 40.0398C247.578 39.2443 249.879 38.8466 252.493 38.8466C254.311 38.8466 256.051 39.0597 257.713 39.4858C259.389 39.9119 260.874 40.5724 262.166 41.4673C263.473 42.3622 264.503 43.5128 265.256 44.919C266.009 46.3111 266.385 47.9801 266.385 49.9261V72H257.777V67.4616H257.521C256.996 68.4844 256.293 69.3864 255.412 70.1676C254.531 70.9347 253.473 71.5384 252.237 71.9787C251.001 72.4048 249.574 72.6179 247.955 72.6179ZM250.554 66.3537C251.889 66.3537 253.068 66.0909 254.091 65.5653C255.114 65.0256 255.916 64.3011 256.499 63.392C257.081 62.483 257.372 61.4531 257.372 60.3026V56.8295C257.088 57.0142 256.697 57.1847 256.2 57.3409C255.717 57.483 255.17 57.6179 254.56 57.7457C253.949 57.8594 253.338 57.9659 252.727 58.0653C252.116 58.1506 251.562 58.2287 251.065 58.2997C250 58.456 249.07 58.7045 248.274 59.0455C247.479 59.3864 246.861 59.848 246.42 60.4304C245.98 60.9986 245.76 61.7088 245.76 62.5611C245.76 63.7969 246.207 64.7415 247.102 65.3949C248.011 66.0341 249.162 66.3537 250.554 66.3537Z"
                fill="var(--bg)"
              />
            </svg>

            <HorizontalLoader color="var(--text)" size={0.8} />
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default SplashScreen;
